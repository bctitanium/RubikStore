@model IEnumerable<RubikStore.Models.Giohang>

@{
    ViewBag.Title = "GioHang";
    Layout = "~/Views/Shared/_LayoutGioHang.cshtml";
}

<h2>Giỏ hàng</h2>

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Ten)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Loai)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.MoTa)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Hang)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PicCover)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Gia)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.iSoLg)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.dThanhtien)
        </th>
        <th></th>
    </tr>

@foreach (var item in Model)
{
    <tr>
        <td>
            @Html.DisplayFor(modelItem => item.Ten)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Loai)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.MoTa)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Hang)
        </td>
        <td>
            <img src="@item.PicCover" width="200" />
        </td>

        @using (Html.BeginForm("CapnhatGiohang", "GioHang", new { @id = item.Id }))
        {
            <td>
                @*@Html.DisplayFor(modelItem => item.Gia)*@
                @String.Format("{0:0,0}", item.Gia) VNĐ
            </td>
            <td>
                @*@Html.DisplayFor(modelItem => item.iSoLg)*@
                <input type="number" min="1" name="txtSoLg" value="@item.iSoLg" />
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.dThanhtien)
            </td>
            <td>
                <a href="@Url.Action("Details", "RubikStore", new { id = item.Id })">Chi tiết</a> |
                @Html.ActionLink("Xóa", "XoaGiohang", new { @id = item.Id })
            </td>
            <td>
                <input type="submit" value="Cập nhật" class="btn btn-success" />
            </td>
        }
    </tr>

}

    <tr style="font-weight:bold; text-align:right; color:red">
        <td colspan="3">Số lượng Rubik: @ViewBag.Tongsoluong</td>
        <td colspan="4">Số loại Rubik: @ViewBag.Tongsoluongsanpham</td>
        <td colspan="5">Tổng tiền: @String.Format("{0:0,0}", @ViewBag.Tongtien) VNĐ</td>
    </tr>

    <tr style="font-weight:bold; color:blue; text-align:right ">
        <td colspan="9">
            @Html.ActionLink("Xóa giỏ hàng", "XoaTatCaGioHang")
        </td>
    </tr>

    <tr style="font-weight:bold; color:yellow; text-align:right ">
        <td colspan="9" align="center">
            @Html.ActionLink("Đặt hàng", "Dathang", "GioHang")
        </td>
    </tr>

</table>
